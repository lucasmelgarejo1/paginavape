<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tienda de Vapers</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>


  <header class="video-header">
  <video autoplay muted loop playsinline>
    <source src="/assets/Ink-35508-1.mp4" type="video/mp4" />
    Tu navegador no soporta videos HTML5.
  </video>
  <div class="overlay">
     <div class="anuncio-carrusel">
      <div class="mensaje" id="mensaje-rotativo">ðŸ“± Seguinos en Instagram @vapezrt_</div>
    </div>
    <h1>VAPEZRT</h1>
    <nav>
      <a href="#productos">Productos</a>
      <a href="#contacto">Contacto</a>
    </nav>
  </div>
</header> 

<section class="hero">
  <img src="/assets/2023_1120_Ignite_Lifestyle_MikeKirschbaum_016_1_1000x.webp" alt="Portada de Vapers" />
  <div class="hero-texto">
    <h2>ExplorÃ¡ nuestros sabores</h2>
    <p>Los mejores sabores, los mejores precios.</p>
  </div>
</section>


<main id="productos" class="productos">
  <!-- AcÃ¡ se insertan los productos -->
</main>


  <footer id="contacto">
    <h2>Contacto</h2>
    <p>Email: contacto@vapeshop.com</p>
    <p>WhatsApp: +54 9 11 1234-5678</p>
  </footer>

<script>
  const mensajes = [
    "ðŸ“± Seguinos en Instagram @vapezrt_",
    "ðŸ•’ Horarios: lunes a lunes de 10 AM a 00:00"
  ];

  let index = 0;
  const mensajeEl = document.getElementById("mensaje-rotativo");

  function actualizarMensaje() {
    mensajeEl.textContent = mensajes[index];
    mensajeEl.style.animation = "none"; // reinicia animaciÃ³n
    void mensajeEl.offsetWidth; // fuerza el reinicio
    mensajeEl.style.animation = "slide 16s linear infinite";

    index = (index + 1) % mensajes.length;
  }

  setInterval(actualizarMensaje, 16000); // cambia cada 8s, mismo que duraciÃ³n del slide

</script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBkCmjY9pCUXLia-fsw9Od4AybFxRzCAjg",
    authDomain: "vapezrt-56f20.firebaseapp.com",
    projectId: "vapezrt-56f20",
    storageBucket: "vapezrt-56f20.appspot.com",
    messagingSenderId: "1000261974016",
    appId: "1:1000261974016:web:281161e24522eb2bee00e5",
    measurementId: "G-B84Z2N19NE"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const contenedor = document.querySelector(".productos");
  contenedor.innerHTML = ""; // Limpiar lo que estaba hardcodeado

  async function cargarProductos() {
    try {
      const querySnapshot = await getDocs(collection(db, "productos"));
      querySnapshot.forEach((doc) => {
        const prod = doc.data();
        contenedor.innerHTML += `
          <div class="producto">
            <img src="${prod.imagen}" alt="${prod.nombre}">
            <h3>${prod.nombre}</h3>
            <p>${prod.sabor}</p>
          </div>
        `;
      });
    } catch (error) {
      console.error("Error al cargar productos:", error);
      contenedor.innerHTML = "<p>No se pudieron cargar los productos.</p>";
    }
  }

  cargarProductos();
</script>



</body>
</html>
